"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=Object.prototype.toString;function n(n,t){return e.call(n)===`[object ${t}]`}function t(e){return"undefined"!=typeof window&&n(e,"Window")}const o="undefined"!=typeof process,r=null!==(s="undefined"!=typeof wx?wx:0)&&n(s,"Object")&&function(e){return"function"==typeof e}("undefined"!=typeof App?App:0);var s;const i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i;function c(e){const n=e.match(i);if(!n)return{};return{filename:n[2],functionName:n[1]||"",lineno:parseInt(n[3],10)||void 0,colno:parseInt(n[4],10)||void 0}}function a(e){const{stack:n}=e;if(!n)return[];const t=[];for(const e of n.split("\n").slice(1)){const n=c(e);n&&t.push(n)}return t.slice(0,10)}t?window:r?wx:o&&process;const u={name:"vue-error",type:"error",monitor(e){const n=this.options.vue;if(n&&n.Vue&&n.Vue.config){const{Vue:t}=n,o=t.config.errorHandler;t.config.errorHandler=(n,t,r)=>{const s={type:"error",subType:"vue-error",pageURL:"undefined"==typeof document||null==document.location?"":null===(c=document.location.href)||void 0===c?void 0:c.split("?")[0],extraData:{type:n.name,errorUid:(i=`vue-error-${n.message}-${r}`,function(e){let n=0;if(0==e.length)return n;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n}(i)+""),msg:n.stack||n.message,stackTrace:{frames:a(n)},meta:{info:r}}};var i,c;return e("vue-error",{_report:s,vm:t}),null==o?void 0:o(n,t,r)}}},transform({_report:e,vm:t}){const o=this.options.vue;if(o&&o.Vue&&o.Vue.config){const{Vue:s}=o;if(function(e){return n(e,"String")}(null==s?void 0:s.version))switch(r=s.version,Number(r.split(".")[0])){case 2:return e.extraData.meta=Object.assign(Object.assign({},e.extraData.meta),function(e){let n="";if(e.$root===e)n="root";else{const t=e._isVue?e.$options&&e.$options.name||e.$options&&e.$options._componentTag:e.name;n=(t?"component <"+t+">":"anonymous component")+(e._isVue&&e.$options&&e.$options.__file?" at "+(e.$options&&e.$options.__file):"")}return{componentName:n}}(t)),e;case 3:return e.extraData.meta=Object.assign(Object.assign({},e.extraData.meta),function(e){let n="";if(e.$root===e)n="root";else{const t=e.$options&&e.$options.name;n=t?"component <"+t+">":"anonymous component"}return{componentName:n}}(t)),e;default:return e}}var r},consumer(e){this.report.send(e,!0)}};exports.vuePlugin=u;
