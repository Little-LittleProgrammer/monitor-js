"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=Object.prototype.toString;function e(e,n){return t.call(e)===`[object ${n}]`}function n(t){return void 0!==t}function o(t){return!n(t)}function r(t){return null!==t&&e(t,"Object")}function i(t){return null===t}function s(t){return e(t,"String")}function u(t){return"function"==typeof t}function c(t){return t&&Array.isArray(t)}function a(t){return"undefined"!=typeof window&&e(t,"Window")}const p="undefined"!=typeof process,f=r("undefined"!=typeof wx?wx:0)&&u("undefined"!=typeof App?App:0),l=!p;function d(t){return JSON.parse(JSON.stringify(t))}function x(t,e){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];let r;if(e=e||n.length,t)for(r=0;r<t;r++)o[r]=n[0|Math.random()*e];else{let t;for(o[8]="-",o[13]="-",o[18]="-",o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(t=0|16*Math.random(),o[r]=n[19==r?3&t|8:t])}return o.join("")}function m(t){return t.replace(/\b(\w)(\w*)/g,(function(t,e,n){return`${e.toUpperCase()}${n}`}))}function g(t){let e=0;if(0==t.length)return e;for(let n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return e}const _=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i;function h(t){const e=t.match(_);if(!e)return{};return{filename:e[2],functionName:e[1]||"",lineno:parseInt(e[3],10)||void 0,colno:parseInt(e[4],10)||void 0}}function y(t,e,n,o=!1){t.addEventListener(e,n,o)}function b(t,e,n,o=!1){t.removeEventListener(e,n,o)}function v(){return a?window:f?wx:p?process:void 0}function w(){return!!window.PerformanceObserver}const S=v(),N=w();exports.Queue=class{constructor(){this.stack=[]}get_cache(){return d(this.stack)}add_cache(t){this.stack.push(t)}clear_cache(){this.stack=[]}},exports._global=S,exports._supportPerformance=N,exports.decode=function(t){return decodeURIComponent(t)},exports.deep_copy=d,exports.defaultFunctionName="<anonymous>",exports.encode=function(t){return encodeURIComponent(t)},exports.first_str_to_uppercase=m,exports.format_string=function(t){const e=t.split("-");let n="";return e.forEach((t=>{n+=m(t)})),n},exports.get_big_version=function(t){return Number(t.split(".")[0])},exports.get_error_uid=function(t){return g(t)+""},exports.get_function_name=function(t){return t&&"function"==typeof t&&t.name||"<anonymous>"},exports.get_global=v,exports.get_page_url=function(){var t;return"undefined"==typeof document||null==document.location?"":null===(t=document.location.href)||void 0===t?void 0:t.split("?")[0]},exports.get_unique_id=x,exports.get_uuid=function(){let t="";return a?(t=localStorage.getItem("uuid"),t||(t=x(16),localStorage.setItem("uuid",t),t)):f?(t=wx.getStorageSync("uuid"),t||(t=x(16),wx.setStorageSync("uuid",t),t)):void 0},exports.hash_code=g,exports.html_element_to_string=function(t){const e=t.tagName.toLowerCase();if("body"===e)return null;let n=t.classList.value;return n=""!==n?` class="${n}"`:"",`<${e}${t.id?` id="${t.id}"`:""}${""!==n?n:""}>${t.innerText}</${e}>`},exports.is=e,exports.isArray=c,exports.isBoolean=function(t){return e(t,"Boolean")},exports.isClient=l,exports.isDate=function(t){return e(t,"Date")},exports.isDef=n,exports.isElement=function(t){return r(t)&&!!t.tagName},exports.isEmpty=function(t){return c(t)||s(t)?0===t.length:t instanceof Map||t instanceof Set?0===t.size:!!r(t)&&0===Object.keys(t).length},exports.isFunction=u,exports.isMap=function(t){return e(t,"Map")},exports.isNull=i,exports.isNullAndUnDef=function(t){return o(t)&&i(t)},exports.isNullOrUnDef=function(t){return o(t)||i(t)},exports.isNumber=function(t){return e(t,"Number")},exports.isObject=r,exports.isPromise=function(t){return e(t,"Promise")&&r(t)&&u(t.then)&&u(t.catch)},exports.isRegExp=function(t){return e(t,"RegExp")},exports.isServer=p,exports.isString=s,exports.isUnDef=o,exports.isWindow=a,exports.isWx=f,exports.is_support_performance_observer=w,exports.native_try_catch=function(t,e){try{t()}catch(t){e?e(t):console.error("err",t)}},exports.off=b,exports.on=y,exports.on_beforeunload=function(t,e){t.addEventListener("beforeunload",e,!0)},exports.on_hidden=function(t,e,n=!1){const o=r=>{"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),n&&(b(t,"visibilitychange",o,!0),b(t,"pagehide",o,!0)))};y(t,"visibilitychange",o,!0),y(t,"pagehide",o,!0)},exports.on_load=function(t,e){if(t==Window&&"complete"===document.readyState)e();else{const n=()=>{e(),b(t,"load",n,!0)};y(t,"load",n,!0)}},exports.parse_stack_frames=function(t){const{stack:e}=t;if(!e)return[];const n=[];for(const t of e.split("\n").slice(1)){const e=h(t);e&&n.push(e)}return n.slice(0,10)},exports.parse_stack_line=h,exports.safe_stringify=function(t){const e=new Set,n=JSON.stringify(t,(function(t,n){return e.has(n)?"Circular":("object"==typeof n&&e.add(n),n)}));return e.clear(),n},exports.sampling=function(t){return 100*Math.random()<=t},exports.throttle_event=function(t,e){if(clearTimeout(t.__timebar),!0!==e){const n={time:(e=e||{}).time||200,context:e.context||null,args:e.args};return new Promise((e=>{t.__timebar=setTimeout((function(){const o=t.apply(n.context,n.args);e(o)}),n.time)}))}};
